<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class PnP</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class PnP</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Implements the Plug N Pay API, as described in the API documentation  on plugnpay.com. See API documentation for more details, as well as  for methods that may not yet have been implemented here.</p>
<p class="description"><p>Please be aware that the API exposed by this module is not firm yet.  In particular, functions that are not explicitly defined in the  documented PnP API might change somewhat over the next few weeks as I  try to figure out what is actually needed in this interface. Thanks  for your patience.</p></p>
		<p class="notes">
			Located in <a class="field" href="_PnP.php.html">/PnP.php</a> (line <span class="field">23</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																								<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$apiurl" title="details" class="var-name">$apiurl</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$publisher_name" title="details" class="var-name">$publisher_name</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$publisher_password" title="details" class="var-name">$publisher_password</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																				
												<div class="method-definition">
											<span class="method-result">PnP</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">StdClass</span>
										<a href="#auth" title="details" class="method-name">auth</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>], <span class="var-type">array</span>&nbsp;<span class="var-name">$payment_array</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">StdClass</span>
										<a href="#authprev" title="details" class="method-name">authprev</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">StdClass</span>
										<a href="#list_members" title="details" class="method-name">list_members</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array( 'status' =&gt; 'all' )</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">StdClass</span>
										<a href="#pnp_results" title="details" class="method-name">pnp_results</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$post_args</span> = <span class="var-default">array()</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">StdClass</span>
										<a href="#query_trans" title="details" class="method-name">query_trans</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">StdClass</span>
										<a href="#void" title="details" class="method-name">void</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">StdObj</span>
										<a href="#__call" title="details" class="method-name">__call</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$args</span>)
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$apiurl" id="$apiurl"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$apiurl</span>
			 = <span class="var-default"> 'https://pay1.plugnpay.com/payment/pnpremote.cgi'</span>			(line <span class="line-number">25</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$publisher_name" id="$publisher_name"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$publisher_name</span>
			 = <span class="var-default"> 'pnpusername'</span>			(line <span class="line-number">26</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$publisher_password" id="$publisher_password"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$publisher_password</span>
			 = <span class="var-default"> 'password'</span>			(line <span class="line-number">27</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">46</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Object constructor</p>
<p class="description"><p>Get a new object, in order to make a payment:  <div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$pnp&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../PnP/PnP.html">PnP</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div></p><p>or reopen a previous one, to query a payment  <div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$pnp&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../PnP/PnP.html">PnP</a></span><span class="src-sym">(&nbsp;</span><span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'orderID'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'12345'&nbsp;</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$status&nbsp;</span>=&nbsp;<span class="src-var">$php</span><span class="src-sym">-&gt;</span><a href="../PnP/PnP.html#methodquery_trans">query_trans</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div></p></p>
	
	<div class="method-signature">
		<span class="method-result">PnP</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$args</span><span class="var-description">: Object construction array. At present, only supports  creating an object with a set orderID.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodauth" id="auth"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">auth</span> (line <span class="line-number">148</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Process a payment against the Plug n Pay payment gateway.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$pnp&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../PnP/PnP.html">PnP</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$response&nbsp;</span>=&nbsp;<span class="src-var">$pnp</span><span class="src-sym">-&gt;</span><span class="src-id">payment</span><span class="src-sym">(&nbsp;</span><span class="src-var">$payment_values&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div></p><p>Values expected to be in the payment array are:</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-id">card</span>-<span class="src-id">number</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">card</span>-<span class="src-id">name</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">card</span>-<span class="src-id">amount</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">card</span>-<a href="http://www.php.net/exp">exp</a></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">email</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">ship</span>-<span class="src-id">name</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">address1</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">address2</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">city</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">state</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">zip</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">country</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">cc</span>-<span class="src-id">cvv&nbsp;</span><span class="src-sym">(</span><span class="src-id">optional</span><span class="src-sym">)</span></div></li>
</ol></div></p><p>Finally, the payment_values array may contain an array named  'packages', containing the packages which were ordered:</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$packages&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-num">1&nbsp;</span>=&gt;&nbsp;<span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'packages_id'&nbsp;</span>=&gt;&nbsp;<span class="src-num">1</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'final_price'&nbsp;</span>=&gt;&nbsp;<span class="src-num">2</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'quantity'&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt;&nbsp;<span class="src-num">3</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">)</span></div></li>
</ol></div></p><p>Return value will look like:</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-key">Array</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">FinalStatus</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">fraud</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">IPaddress</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">192.168.1.153</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">MStatus</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">badcard</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">User_Agent</span><span class="src-sym">]&nbsp;</span>=&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">address1</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">1421&nbsp;</span><span class="src-id">Main&nbsp;Street</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">auth_code</span><span class="src-sym">]&nbsp;</span>=&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">auth_date</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">20080613</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">auth_msg</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;&nbsp;<span class="src-id">Invalid&nbsp;Credit&nbsp;Card&nbsp;CVV2</span>/<span class="src-id">CVC2&nbsp;Number</span>.|</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">authtype</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">authonly</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">card_amount</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">0.02</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">card_name</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">Homer&nbsp;Simpson</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">card_type</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">MSTR</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">cc_cvv</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">000</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">city</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">Springfield</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">convert</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">underscores</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">currency</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">usd</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">dontsndmail</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">yes</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">easycart</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">1</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">email</span><span class="src-sym">]&nbsp;</span>=&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">errdetails</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">card</span>-<span class="src-id">cvv</span>|<span class="src-id">CVV&nbsp;invalid&nbsp;length</span>.|</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">errlevel</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">1</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">ipaddress</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">192.168.1.153</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">merchant</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">pnpusername</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">mode</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<a href="../PnP/PnP.html#methodauth">auth</a></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">orderID</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">121345678090645094</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">paymethod</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">credit</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">publisher_email</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">test</span><span class="src-sym">@</span><span class="src-id">example</span>.<span class="src-id">com</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id"><a href="../PnP/PnP.html#var$publisher_name">publisher_name</a></span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">pnpusername</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">resp_code</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">P56</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">ship_name</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">Homer&nbsp;Simpson</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">shipinfo</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">1</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">sresp</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">E</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">state</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">UT</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">success</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">no</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">zip</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-num">40997</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">MErrMsg</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">Invalid&nbsp;Credit&nbsp;Card&nbsp;CVV2</span>/<span class="src-id">CVC2&nbsp;Number</span>.|</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">[</span><span class="src-id">a</span><span class="src-sym">]&nbsp;</span>=&gt;&nbsp;<span class="src-id">b</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;<span class="src-sym">)</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Response array - example shown above.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">StdClass</span>
		<span class="method-name">
			auth
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>], <span class="var-type">array</span>&nbsp;<span class="var-name">$payment_array</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$payment_array</span><span class="var-description">: payment details.</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$args</span>			</li>
				</ul>
		
			
	</div>
<a name="methodauthprev" id="authprev"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">authprev</span> (line <span class="line-number">255</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Do a new authorizaction, using information from a previous  authorization, so that you don't need to know the payment information  again.</p>
<p class="description"><p>You may explicitly pass the prevorderid in the argument list, or you  may create a PnP object with the orderID of the previous transaction <ul><li>which ever is more convenient.</li></ul>  <div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$pnp&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../PnP/PnP.html">PnP</a></span><span class="src-sym">(&nbsp;</span><span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-id">orderID&nbsp;</span>=&gt;&nbsp;<span class="src-var">$prevorderID&nbsp;</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$results&nbsp;</span>=&nbsp;<span class="src-var">$pnp</span><span class="src-sym">-&gt;</span><a href="../PnP/PnP.html#methodauthprev">authprev</a><span class="src-sym">(&nbsp;</span><span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'card-amount'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'123.45'&nbsp;</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$neworderid&nbsp;</span>=&nbsp;<span class="src-var">$pnp</span><span class="src-sym">-&gt;</span><span class="src-id">orderID</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&lt;<span class="src-id">code</span>&gt;</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;<span class="src-key">Or&nbsp;</span><span class="src-id">i&nbsp;f&nbsp;you&nbsp;prefer</span>:</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&lt;<span class="src-id">code</span>&gt;</div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$pnp&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../PnP/PnP.html">PnP</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$results&nbsp;</span>=&nbsp;<span class="src-var">$pnp</span><span class="src-sym">-&gt;</span><a href="../PnP/PnP.html#methodauthprev">authprev</a><span class="src-sym">(&nbsp;</span><span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'prevorderid'&nbsp;</span>=&gt;&nbsp;<span class="src-var">$prevorderID</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'card-amount'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'123.45'&nbsp;</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$neworderid&nbsp;</span>=&nbsp;<span class="src-var">$pnp</span><span class="src-sym">-&gt;</span><span class="src-id">orderID</span><span class="src-sym">;</span></div></li>
</ol></div></p><p>'card-amount' is a required argument.</p><p>'reauthtype' is an optional argument.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Return object</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">StdClass</span>
		<span class="method-name">
			authprev
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$args</span><span class="var-description">: Argument array</span>			</li>
				</ul>
		
			
	</div>
<a name="methodlist_members" id="list_members"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">list_members</span> (line <span class="line-number">343</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List all active/expired profiles and related password info</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$pnp&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../PnP/PnP.html">PnP</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$members&nbsp;</span>=&nbsp;<span class="src-var">$pnp</span><span class="src-sym">-&gt;</span><a href="../PnP/PnP.html#methodlist_members">list_members</a><span class="src-sym">(&nbsp;</span><span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'status'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'active'&nbsp;</span><span class="src-sym">)&nbsp;)</span><span class="src-sym">;</span></div></li>
</ol></div></p><p>Possible arguments are 'status' ('active', 'expired', or 'all') and  'crypt' ('crypt', 'md5', or 'none')</p><p>Return object contains 5 attributes: FinalStatus, auth-msg, MErrMsg,  TranCount, and members. TranCount contains the number of members.  members contains a StdClass object for each of those members. Each  member contains attributes username, password, enddate, and  purchaseid, and also an attribute 'key' which indicates the axxxxx  key where the original data appears in the return object.</p><p>There will also be methods a00000 - axxxxx for numbers from 0 to  TranCount, which will return a url-encoded version of the member  data, which you can parse_str() and do with as you like.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Object of return values, documented in example code</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">StdClass</span>
		<span class="method-name">
			list_members
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array( 'status' =&gt; 'all' )</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$args</span><span class="var-description">: Argument array, documented in example code</span>			</li>
				</ul>
		
			
	</div>
<a name="methodpnp_results" id="pnp_results"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">pnp_results</span> (line <span class="line-number">386</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Description</p>
	<ul class="tags">
				<li><span class="field">return:</span> Response values from the query</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">StdClass</span>
		<span class="method-name">
			pnp_results
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$post_args</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$post_args</span><span class="var-description">: HTTP Post values</span>			</li>
				</ul>
		
			
	</div>
<a name="methodquery_trans" id="query_trans"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">query_trans</span> (line <span class="line-number">288</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Query for the status of a completed transaction</p>
	<ul class="tags">
				<li><span class="field">return:</span> Return object of response values, as per the documentation</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">StdClass</span>
		<span class="method-name">
			query_trans
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$args</span><span class="var-description">: Arguments. Can specify the 'startdate' if you wish.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodvoid" id="void"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">void</span> (line <span class="line-number">211</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Cancels the most recent transaction operation of the given orderID.</p>
<p class="description"><p>Mandatory argument 'card-amount', which must not exceed the amount of  the original transaction. You may wish to obtain that amount ahead of  time by calling $pnp-&gt;query_trans();  Optional argument 'notify-email', where email notification can be  sent for transaction problems.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Return object</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">StdClass</span>
		<span class="method-name">
			void
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$args</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$args</span><span class="var-description">: Argument array</span>			</li>
				</ul>
		
			
	</div>
<a name="method__call" id="__call"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">__call</span> (line <span class="line-number">421</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Catch-all method which allows us to handle undocumented, or  not-yet-implemented API methods.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-var">$p&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../PnP/PnP.html">PnP</a></span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$return&nbsp;</span>=&nbsp;<span class="src-var">$p</span><span class="src-sym">-&gt;</span><span class="src-id">undocumented_method</span><span class="src-sym">(&nbsp;</span><span class="src-var">$args&nbsp;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Return object</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">StdObj</span>
		<span class="method-name">
			__call
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$args</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: Method to be called (handled automatically when called  as an object method).</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$args</span><span class="var-description">: Argument array, if any</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Tue, 17 Jun 2008 14:39:00 -0400 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.2</a>
	</p>
	</div></body>
</html>